<?xml version="1.0" encoding="utf-8" standalone="yes" ?>
<rss version="2.0" xmlns:atom="http://www.w3.org/2005/Atom">
  <channel>
    <title>Ruby on Zeneffy : journal de bord</title>
    <link>http://www.zeneffy.fr/tags/ruby/</link>
    <description>Recent content in Ruby on Zeneffy : journal de bord</description>
    <generator>Hugo -- gohugo.io</generator>
    <language>fr-fr</language>
    
    
    
    <lastBuildDate>Sat, 11 Jun 2011 12:40:09 &#43;0000</lastBuildDate>
    <atom:link href="http://www.zeneffy.fr/tags/ruby/index.xml" rel="self" type="application/rss+xml" />
    
    <item>
      <title>Nouvelle application ZenRunnin&#39;</title>
      <link>http://www.zeneffy.fr/2011/06/nouvelle-application-zenrunnin/</link>
      <pubDate>Sat, 11 Jun 2011 12:40:09 &#43;0000</pubDate>
      
      <guid>http://www.zeneffy.fr/2011/06/nouvelle-application-zenrunnin/</guid>
      <description>&lt;p&gt;Coureur amateur, je me suis acheté à Noël une montre Polar pour mesurer mes performances (temps, distance&amp;hellip;) - j&amp;rsquo;ai commencé à utiliser le logiciel fourni (polarpersonaltrainer), sans être convaincu par son ergonomie ou ses fonctionnalités.&lt;/p&gt;

&lt;p&gt;Bricoleur numérique dans l&amp;rsquo;âme , j&amp;rsquo;ai donc développé le site &lt;a href=&#34;http://zenrunn.in&#34;&gt;Zenrunnin’&lt;/a&gt;, une application simple de suivi de vos courses, utilisant les comptes facebook pour partager ses performances avec ses amis et connaître les leurs.&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://zenrunn.in&#34;&gt;Zenrunnin’&lt;/a&gt; m&amp;rsquo;a permis de me familiariser avec les différentes &lt;a href=&#34;http://developers.facebook.com/&#34;&gt;API Facebook&lt;/a&gt; et m&amp;rsquo;a fait découvrir &lt;a href=&#34;http://oauth.net/&#34;&gt;OAuth&lt;/a&gt; qui permet d&amp;rsquo;interagir et de publier facilement des données sécurisées à travers un système simple et unifié d&amp;rsquo;autorisation.&lt;/p&gt;

&lt;p&gt;Pour en savoir plus:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;Le site ZenRunnin&amp;rsquo;: &lt;a href=&#34;http://zenrunn.in&#34;&gt;zenrunn.in&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Le site de développement sur &lt;a href=&#34;https://github.com/jraigneau/zen-running&#34;&gt;Github&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;Le site communautaire de l&amp;rsquo;application sur facebook: &lt;a href=&#34;http://www.facebook.com/apps/application.php?id=216410101715370&#34;&gt;www.facebook.com/apps/application.php?id=216410101715370&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;
</description>
    </item>
    
    <item>
      <title>Les joies de datamapper</title>
      <link>http://www.zeneffy.fr/2011/04/les-joies-de-datamapper/</link>
      <pubDate>Sun, 24 Apr 2011 18:55:40 &#43;0000</pubDate>
      
      <guid>http://www.zeneffy.fr/2011/04/les-joies-de-datamapper/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;http://datamapper.org/&#34;&gt;Datamapper&lt;/a&gt; est un ORM (&lt;a href=&#34;http://en.wikipedia.org/wiki/Object-relational_mapping&#34;&gt;Object Relational Mapper&lt;/a&gt;) écrit en ruby et permettant de lier facilement Ruby à n&amp;rsquo;importe quelle base de données (mysql, postgresql&amp;hellip;).&lt;/p&gt;

&lt;p&gt;Grand fan de du framework web &lt;a href=&#34;http://www.sinatrarb.com/&#34;&gt;Sinatra&lt;/a&gt;, j&amp;rsquo;utilise souvent datamapper&amp;hellip;et je tombe souvent dans ses pièges:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;Etre vigilant sur les relations 1-n ou n-n et sur l&amp;rsquo;utilisation des objets pour éviter de charger en mémoire des centaines de données inutiles (cela m&amp;rsquo;est arrivé sur Veilleur, voir le &lt;a href=&#34;http://www.zeneffy.fr/post/rtfm&#34;&gt;post correspondant&lt;/a&gt;.&lt;/li&gt;
&lt;li&gt;Vérifier systématiquement que les données sont bien sauvegardées: par défaut (c&amp;rsquo;est à dire sans l&amp;rsquo;option &lt;code&gt;#DataMapper::Model.raise_on_save_failure = true&lt;/code&gt;), aucun message ne prévient de l&amp;rsquo;erreur&lt;/li&gt;
&lt;li&gt;Mettre en place un système de pour récupérer les erreurs envoyées par Datamapper via notamment: &lt;code&gt;xx.errors.inspect&lt;/code&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;Ces quelques points simples permettent de gagner beaucoup de temps!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Installer Radiant CMS sous heroku</title>
      <link>http://www.zeneffy.fr/2011/04/installer-radiant-cms-sous-heroku/</link>
      <pubDate>Wed, 13 Apr 2011 11:09:20 &#43;0000</pubDate>
      
      <guid>http://www.zeneffy.fr/2011/04/installer-radiant-cms-sous-heroku/</guid>
      <description>&lt;p&gt;&lt;a href=&#34;http://radiantcms.org/&#34;&gt;RadiantCMS&lt;/a&gt; est un gestionnaire de contenus simple basé sur le framework &lt;a href=&#34;http://rubyonrails.org/&#34;&gt;RubyOnRails&lt;/a&gt;, permettant de mettre en place facilement des sites relativement complexes, notamment grâce à son langage de tags (Radius).&lt;/p&gt;

&lt;p&gt;RadiantCMS fonctionne très bien avec l&amp;rsquo;hébergement Heroku, avec quelques petits changements à effectuer - décrit ci-dessous.&lt;/p&gt;

&lt;p&gt;Installation des gems nécessaires en local&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;gem install radiant sqlite3 heroku taps
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Création de l&amp;rsquo;application &amp;ldquo;myapp&amp;rdquo;:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;mkdir myapp
cd myapp
radiant --database=sqlite3  .
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Création de la base de donnée:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;rake db:bootstrap
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Ajout du fichier Gemfile:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;source :gemcutter
gem &#39;rails&#39;, &#39;2.3.8&#39;
gem &#39;RedCloth&#39;
gem &#39;will_paginate&#39;,&#39;2.3.11&#39;
gem &#39;radiant&#39; , &#39;0.9.1&#39;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Important: une modification de &lt;code&gt;radiant-0.9.1/vendor/rails/activesupport/lib/active_support.rb&lt;/code&gt; pour ajouter &lt;code&gt;require ‘thread’&lt;/code&gt; avant &lt;code&gt;module ActiveSupport&lt;/code&gt; est nécessaire pour éviter une erreur du type: &lt;code&gt;gems/radiant-0.9.1/vendor/rails/activesupport/lib/active_support/dependencies.rb:55: uninitialized constant ActiveSupport::Dependencies::Mutex (NameError)&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;Lancer l&amp;rsquo;application en mode préprod puis en mode prod en visitant &lt;a href=&#34;http://localhost:3000/admin&#34;&gt;http://localhost:3000/admin&lt;/a&gt; pour créer les fichiers .js nécessaires (il n&amp;rsquo;est pas possible d&amp;rsquo;écrire dans le filesystem d&amp;rsquo;Heroku)&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;./script/server
./script/server -e production
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Création du référentiel git:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;git init
git add .
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Création du fichier &lt;code&gt;.gitignore&lt;/code&gt;, contenant:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;db/*.sqlite3.db
log
tmp
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Premier commit:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;git commit -m &amp;quot;First commit&amp;quot;
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Hébergement sur heroku (pour l&amp;rsquo;instant sur ruby 1.8.7):&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;heroku create myapp --stack bamboo-ree-1.8.7
heroku db:push
git push heroku master
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Environnement de développement Mac</title>
      <link>http://www.zeneffy.fr/2011/03/dev-mac/</link>
      <pubDate>Fri, 04 Mar 2011 10:25:03 &#43;0000</pubDate>
      
      <guid>http://www.zeneffy.fr/2011/03/dev-mac/</guid>
      <description>&lt;p&gt;Je suis l&amp;rsquo;heureux possesseur d&amp;rsquo;un MacBook Air 13&amp;rdquo; depuis quelques jours, et j&amp;rsquo;ai commencé à installer mon environnement de développement habituel.&lt;/p&gt;

&lt;p&gt;Gestionnaire de package pour mac: &lt;a href=&#34;https://github.com/mxcl/homebrew&#34;&gt;https://github.com/mxcl/homebrew&lt;/a&gt; (après avoir téléchargé Xcode), installation de Git, MacVim, sqlite via brew&lt;/p&gt;

&lt;p&gt;puis installation de rvm: &lt;a href=&#34;http://www.blog.bridgeutopiaweb.com/post/how-to-install-rvm-and-rails-3-on-snow-leopard/&#34;&gt;http://www.blog.bridgeutopiaweb.com/post/how-to-install-rvm-and-rails-3-on-snow-leopard/&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Pour avoir un éditeur de texte (gratuit donc pas textmate pour l&amp;rsquo;instant !): &lt;code&gt;brew macvim&lt;/code&gt;&lt;/p&gt;

&lt;p&gt;puis configuration de MacVim:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;a href=&#34;http://blog.danielfischer.com/2010/11/19/a-starting-guide-to-vim-from-textmate/&#34;&gt;http://blog.danielfischer.com/&lt;sup&gt;2010&lt;/sup&gt;&amp;frasl;&lt;sub&gt;11&lt;/sub&gt;/19/a-starting-guide-to-vim-from-textmate/&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;https://github.com/carlhuda/janus&#34;&gt;https://github.com/carlhuda/janus&lt;/a&gt;&lt;/li&gt;
&lt;li&gt;&lt;a href=&#34;http://net.tutsplus.com/articles/general/top-10-pitfalls-when-switching-to-vim/&#34;&gt;http://net.tutsplus.com/articles/general/top-10-pitfalls-when-switching-to-vim/&lt;/a&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Ne pas oublier fuzzyFinder et la librairie l9 (disponibles sur le site &lt;a href=&#34;http://www.vim.org/&#34;&gt;www.vim.org&lt;/a&gt; et de changer la touche &lt;code&gt;leader&lt;/code&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Veilleur: une application de surveillance des sites web</title>
      <link>http://www.zeneffy.fr/2011/02/veilleur-une-application-de-surveillance-des-sites-web/</link>
      <pubDate>Sun, 13 Feb 2011 19:20:45 &#43;0000</pubDate>
      
      <guid>http://www.zeneffy.fr/2011/02/veilleur-une-application-de-surveillance-des-sites-web/</guid>
      <description>&lt;p&gt;Abonné depuis plusieurs mois à plusieurs services de monitoring de sites web (notamment &lt;a href=&#34;http://www.pingdom.com&#34;&gt;pingdom&lt;/a&gt;), j&amp;rsquo;ai décidé de me faire mon propre service en profitant de l&amp;rsquo;architecture de &lt;a href=&#34;http://code.google.com/intl/fr-FR/appengine/&#34;&gt;Google App Engine&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;Bien évidemment, l&amp;rsquo;application est en Ruby avec le framework &lt;a href=&#34;http://www.sinatrarb.com&#34;&gt;Sinatra&lt;/a&gt; et se base sur &lt;a href=&#34;http://code.google.com/p/appengine-jruby/&#34;&gt;appengine-jruby&lt;/a&gt;, qui permet d&amp;rsquo;utiliser Ruby via &lt;a href=&#34;http://jruby.org/&#34;&gt;JRuby&lt;/a&gt; (Implémentation de Ruby en Java).&lt;/p&gt;

&lt;p&gt;En utilisant Google App Engine, je m&amp;rsquo;affranchis de la gestion de l&amp;rsquo;authentification (comptes google), de la base de donnée et surtout je peux utiliser un système &lt;a href=&#34;http://fr.wikipedia.org/wiki/Cron&#34;&gt;CRON&lt;/a&gt; intégré dans le service Google. Ce système me permet de lancer automatiquement et périodiquement les tests d&amp;rsquo;URL pour me donner le temps d&amp;rsquo;accès et calculer la disponibilité du site web.&lt;/p&gt;

&lt;p&gt;Après une petite semaine de travail, le premier résultat est très intéressant et peut-être utilisé par tous sur &lt;a href=&#34;http://veilleur.zeneffy.fr&#34;&gt;veilleur.zeneffy.fr&lt;/a&gt;&lt;/p&gt;

&lt;p&gt;Le projet en lui même est géré via &lt;a href=&#34;https://github.com/jraigneau/veilleur&#34;&gt;GitHub&lt;/a&gt; + &lt;a href=&#34;http://zeneffy.lighthouseapp.com/projects/69787-veilleur/overview&#34;&gt;Lighthouse&lt;/a&gt; (tous les détails sur &lt;a href=&#34;http://labs.zeneffy.fr/projets/veilleur/&#34;&gt;labs.zeneffy.fr&lt;/a&gt;)&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Application Sinatra pour Heroku</title>
      <link>http://www.zeneffy.fr/2011/02/application-sinatra-pour-heroku/</link>
      <pubDate>Sat, 05 Feb 2011 07:50:50 &#43;0000</pubDate>
      
      <guid>http://www.zeneffy.fr/2011/02/application-sinatra-pour-heroku/</guid>
      <description>&lt;p&gt;Dernièrement je m&amp;rsquo;intéresse au framework de développement  &lt;a href=&#34;http://www.sinatrarb.com/&#34;&gt;sinatra&lt;/a&gt; qui est basé sur le langage Ruby (comme Ruby on Rails donc). Sinatra est un &lt;a href=&#34;http://fr.wikipedia.org/wiki/Domain-specific_programming_language&#34;&gt;DSL&lt;/a&gt; permettant de développer rapidement et simplement des applications web (un peu comme &lt;a href=&#34;http://webpy.org/&#34;&gt;webpy&lt;/a&gt; que j&amp;rsquo;avais utilisé sur &lt;a href=&#34;http://labs.zeneffy.fr/projets/harpagon/&#34;&gt;Harpagon&lt;/a&gt;).&lt;/p&gt;

&lt;p&gt;Pour déployer des applications sinatra, j&amp;rsquo;ai décidé de continuer à m&amp;rsquo;appuyer sur la plate-forme d&amp;rsquo;hébergement &lt;a href=&#34;http://heroku.com/&#34;&gt;Heroku&lt;/a&gt; - voila les quelques fichiers à mettre en oeuvre pour une application minimale - en activant la supervision &lt;a href=&#34;http://newrelic.com/&#34;&gt;newrelic_rpm&lt;/a&gt;:&lt;/p&gt;

&lt;p&gt;&lt;em&gt;heroku-sinatra-app.rb&lt;/em&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;require &#39;rubygems&#39;
require &#39;sinatra&#39;

configure :production do
require &#39;newrelic_rpm&#39;
end

# Quick test
get &#39;/&#39; do
&amp;quot;Hello from the ratpack!&amp;quot;
end
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;em&gt;config.ru&lt;/em&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;require &#39;heroku-sinatra-app&#39;
run Sinatra::Application
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;em&gt;.gems&lt;/em&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;sinatra
newrelic_rpm version
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;&lt;em&gt;newrelic.yml&lt;/em&gt;&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;# here are the settings that are common to all environments
common: &amp;amp;default_settings
  license_key: &amp;quot;&amp;lt;%= ENV[&#39;NEW_RELIC_LICENSE_KEY&#39;] %&amp;gt;&amp;quot;
  app_name: &amp;quot;&amp;lt;%= ENV[&#39;NEW_RELIC_APPNAME&#39;] %&amp;gt;&amp;quot;
  monitor_mode: false
  developer_mode: false
  log_level: info
  apdex_t: 0.5
  capture_params: false
  transaction_tracer:
    enabled: false
  error_collector:
    enabled: false

production:
  &amp;lt;&amp;lt;: *default_settings
  monitor_mode: true
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Il suffit ensuite de pousser ces fichiers via Git sur Heroku et de visiter l&amp;rsquo;url de votre application!&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Google Analytics dans une application Ruby On Rails</title>
      <link>http://www.zeneffy.fr/2010/10/google-analytics-dans-une-application-ruby-on-rails/</link>
      <pubDate>Thu, 21 Oct 2010 13:48:55 &#43;0000</pubDate>
      
      <guid>http://www.zeneffy.fr/2010/10/google-analytics-dans-une-application-ruby-on-rails/</guid>
      <description>&lt;p&gt;Dans le cadre de l&amp;rsquo;application &lt;a href=&#34;http://labs.zeneffy.fr/projets/vauban/&#34;&gt;vauban&lt;/a&gt; développée via le framework &lt;a href=&#34;http://rubyonrails.org/&#34;&gt;RubyOnRails&lt;/a&gt;, j&amp;rsquo;ai été amené à intégrer &lt;a href=&#34;http://www.google.com/analytics/&#34;&gt;Google Analytics&lt;/a&gt; en 3 étapes très simples:&lt;/p&gt;

&lt;ol&gt;
&lt;li&gt;&lt;p&gt;Créer le compte dans Google Analytics pour obtenir un code javascript du type&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;script type=&amp;quot;text/javascript&amp;quot;&amp;gt;


  var _gaq = _gaq || [];
  _gaq.push([&#39;_setAccount&#39;, &#39;UA-12194039-4&#39;]);
  _gaq.push([&#39;_trackPageview&#39;]);


  (function() {
    var ga = document.createElement(&#39;script&#39;); ga.type = &#39;text/javascript&#39;; ga.async = true;
    ga.src = (&#39;https:&#39; == document.location.protocol ? &#39;https://ssl&#39; : &#39;http://www&#39;) + &#39;.google-analytics.com/ga.js&#39;;
    var s = document.getElementsByTagName(&#39;script&#39;)[0]; s.parentNode.insertBefore(ga, s);
  })();


&amp;lt;/script&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Créer un &amp;ldquo;partial&amp;rdquo; dans &lt;code&gt;app/views/layouts_ appelé __ga.html.rb&lt;/code&gt; et y copier le javascript&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;Insérer le code dans la balise &lt;code&gt;&amp;lt;head&amp;gt;&lt;/code&gt; du fichier &lt;code&gt;app/view/layouts/application.html.erb&lt;/code&gt; (pour l&amp;rsquo;avoir sur tout le site - à modifier éventuellement)&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;&amp;lt;%= render :partial =&amp;gt; &amp;quot;layouts/ga&amp;quot; if Rails.env.production? %&amp;gt;
&lt;/code&gt;&lt;/pre&gt;&lt;/li&gt;
&lt;/ol&gt;

&lt;p&gt;A noter que la condition &lt;code&gt;if Rails.env.production&lt;/code&gt; permet de n&amp;rsquo;afficher le code que lorsque l&amp;rsquo;application est en production, ceci afin de ne pas pertuber les statistiques lors du développement.&lt;/p&gt;

&lt;p&gt;et voilà, &lt;a href=&#34;http://rubyonrails.org&#34;&gt;Ruby On Rail&lt;/a&gt;s a encore une fois démontré sa simplicité!&lt;/p&gt;

&lt;p&gt;&lt;a href=&#34;http://aihuiong.com/post/452550136/google-analytics-and-rails-in-3-steps-and-less-than-5&#34;&gt;Source&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Redécouverte de Ruby On Rails</title>
      <link>http://www.zeneffy.fr/2010/04/redecouverte-de-ruby-on-rails/</link>
      <pubDate>Wed, 14 Apr 2010 14:00:33 &#43;0000</pubDate>
      
      <guid>http://www.zeneffy.fr/2010/04/redecouverte-de-ruby-on-rails/</guid>
      <description>&lt;p&gt;Suite à des recherches sur les frameworks web du moment (python: &lt;a href=&#34;http://www.djangoproject.com/&#34;&gt;Django&lt;/a&gt;, &lt;a href=&#34;http://turbogears.org/&#34;&gt;Turbogears&lt;/a&gt;, &lt;a href=&#34;http://webpy.org/&#34;&gt;web.py&lt;/a&gt;, scala: &lt;a href=&#34;http://liftweb.net/&#34;&gt;lift&lt;/a&gt;, java: &lt;a href=&#34;http://www.playframework.org/&#34;&gt;play!&lt;/a&gt;), je me suis réintéressé à l&amp;rsquo;un des premiers frameworks que j&amp;rsquo;avais utilisé (2003 / 2004 &amp;hellip;): &lt;a href=&#34;http://rubyonrails.org/&#34;&gt;Ruby on Rails&lt;/a&gt;.&lt;/p&gt;

&lt;p&gt;J&amp;rsquo;ai redécouvert l&amp;rsquo;élégance et la simplicité de &lt;a href=&#34;http://www.ruby-lang.org/fr/&#34;&gt;Ruby&lt;/a&gt; et la puissance de Rails.&lt;/p&gt;

&lt;p&gt;Du coup, je me suis lancé un nouveau défi: créer une application de gestion des identités web - afin de ne plus oublier identifiant/mots de passe des sites où je suis inscrit (et il y en a!) - avec Ruby on Rails évidemment: &lt;a href=&#34;http://labs.zeneffy.fr/projets/vauban/&#34;&gt;Vauban&lt;/a&gt; est donc en cours de développement. La suite prochainement&amp;hellip;&lt;/p&gt;
</description>
    </item>
    
    <item>
      <title>Installer Redmine sur lighttpd</title>
      <link>http://www.zeneffy.fr/2010/03/installer-redmine-sur-lighttpd/</link>
      <pubDate>Fri, 26 Mar 2010 15:19:22 &#43;0000</pubDate>
      
      <guid>http://www.zeneffy.fr/2010/03/installer-redmine-sur-lighttpd/</guid>
      <description>&lt;p&gt;J&amp;rsquo;utilise actuellement le serveur web &lt;a href=&#34;http://www.lighttpd.net/&#34;&gt;lighttpd&lt;/a&gt; sur mon serveur personnel, ce qui nécessite un peu de paramétrage différent de Apache. Ainsi pour faire fonctionner &lt;a href=&#34;http://www.redmine.org/&#34;&gt;Redmine&lt;/a&gt; (Application Ruby on Rails de gestion de projet), j&amp;rsquo;ai utilisé cette configuration:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;#Virtual host
server.modules += ( &amp;quot;mod_fastcgi&amp;quot;, &amp;quot;mod_rewrite&amp;quot;)

$HTTP[&amp;quot;host&amp;quot;]  =~ &amp;quot;labs.zeneffy.fr&amp;quot; { # nom du vhos
    server.errorlog = &amp;quot;/var/log/lighttpd/zeneffy/labs/error.log&amp;quot;
    accesslog.filename = &amp;quot;/var/log/lighttpd/zeneffy/labs/access.log&amp;quot;
    server.document-root = &amp;quot;/var/www/zeneffy/labs/public&amp;quot;
    server.indexfiles = ( &amp;quot;dispatch.fcgi&amp;quot; )
    server.error-handler-404 = &amp;quot;/dispatch.fcgi&amp;quot;
    url.rewrite-once = (
        &amp;quot;^/(.*\..+(?!html))$&amp;quot; =&amp;gt; &amp;quot;$0&amp;quot;,
        &amp;quot;^/(.*)\.(.*)&amp;quot;        =&amp;gt; &amp;quot;$0&amp;quot;,
    )

    fastcgi.server =  (
        &amp;quot;.fcgi&amp;quot; =&amp;gt; (
        &amp;quot;labs.tifauve.net&amp;quot; =&amp;gt; (
            &amp;quot;bin-path&amp;quot; =&amp;gt; &amp;quot;/var/www/zeneffy/labs/public/dispatch.fcgi&amp;quot;,
            &amp;quot;socket&amp;quot; =&amp;gt; &amp;quot;/tmp/redmine.socket&amp;quot;,
            &amp;quot;min-procs&amp;quot; =&amp;gt; 1,
            &amp;quot;max-procs&amp;quot; =&amp;gt; 2,
            &amp;quot;idle-timeout&amp;quot; =&amp;gt; 20,
            &amp;quot;check-local&amp;quot; =&amp;gt; &amp;quot;disable&amp;quot;,
            &amp;quot;bin-environment&amp;quot; =&amp;gt; ( &amp;quot;RAILS_ENV&amp;quot; =&amp;gt; &amp;quot;production&amp;quot;, &amp;quot;RAILS_ROOT&amp;quot; =&amp;gt; &amp;quot;/var/www/zeneffy/labs&amp;quot; )
            )
        )
    )

}
&lt;/code&gt;&lt;/pre&gt;
</description>
    </item>
    
    <item>
      <title>Obiran - Outil de backup incrémental en Ruby</title>
      <link>http://www.zeneffy.fr/2008/05/obiran-outil-de-backup-incremental-en-ruby/</link>
      <pubDate>Mon, 12 May 2008 09:19:09 &#43;0000</pubDate>
      
      <guid>http://www.zeneffy.fr/2008/05/obiran-outil-de-backup-incremental-en-ruby/</guid>
      <description>&lt;p&gt;&lt;strong&gt;A propos&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;Sauvegarder régulièrement les données est un réflexe à avoir car le monde numérique peut être impitoyable: imaginez toutes vos photos depuis 5 ans disparaissant suite à un disque dur cassé !&lt;/p&gt;

&lt;p&gt;Le mieux est d&amp;rsquo;automatiser cette tâche, aussi j&amp;rsquo;ai développé OBIRAN - Outil de Backup Incrémental en Ruby (&amp;lsquo;Obiran Kenobi, vous êtes notre seul espoir&amp;rsquo; (Princesse Leila, Starwars IV) ).&lt;/p&gt;

&lt;p&gt;Ce script en langage Ruby permet d&amp;rsquo;effectuer des sauvegardes incrémentales en utilisant rsync, ssh et cp.&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;Rsync permet de synchroniser deux répertoires.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;ssh donne les accès à distance.&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;cp -al est utilisé pour faire des copies de répertoires &lt;em&gt;Hard-Link en anglais&lt;/em&gt; sans perdre trop de place.&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;&lt;strong&gt;Principe&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Incrémental ?&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Ce script est très fortement inspiré des idées de synchronisation trouvées sur les pages suivantes:&lt;/p&gt;

&lt;ul&gt;
&lt;li&gt;&lt;p&gt;&lt;a href=&#34;http://www.sanitarium.net/golug/rsync_backups.html&#34;&gt;Backups using rsync&lt;/a&gt; par Kevin Korb&lt;/p&gt;&lt;/li&gt;

&lt;li&gt;&lt;p&gt;&lt;a href=&#34;http://www.mikerubel.org/computers/rsync_snapshots/&#34;&gt;Easy Automated Snapshot-Style Backups with Linux and Rsync&lt;/a&gt; par Mike Rubel&lt;/p&gt;&lt;/li&gt;
&lt;/ul&gt;

&lt;p&gt;Le principe est de faire des sauvegardes incrémentales, c&amp;rsquo;est à dire ne sauvegarder que les différences d&amp;rsquo;un backup à l&amp;rsquo;autre. Ainsi la place consommée est bien moindre:&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;tifauve@einstein:~/backup/obiran/turing$ du -shc *
43G     20061016_170631
514M    20061016_204921
82M     20061017_205021
397M    20061018_200001
1,1G    20061018_202601
45G     total
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Dans l&amp;rsquo;exemple ci-dessous, la première sauvegarde prend 43Go mais l&amp;rsquo;espace occupé par les suivantes est bien inférieure. Cela permet de faire des sauvegardes fréquentes et complètes souvent.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Un peu de magie&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Toutefois, ce qui est reproché à l&amp;rsquo;incrémental en général est le risque de perdre la première sauvegarde sur laquel sont basées les autres. Que neni !&lt;/p&gt;

&lt;p&gt;En effet dans notre cas on utilise la commande cp -al qui permet de faire des &amp;lsquo;hard-link&amp;rsquo;, similaires aux symlinks (le célèbre ln -s). A l&amp;rsquo;inverse des symlinks qui crée un lien vers un fichier, le hard-link (ln -li pour les intimes) crée deux liens vers un seul et même fichier: supprimer un lien n&amp;rsquo;a aucune incidence sur l&amp;rsquo;autre lien et le fichier.&lt;/p&gt;

&lt;p&gt;La commande cp -al permet donc de dupliquer deux répertoires sans occuper de place supplémentaire. En reprenant l&amp;rsquo;exemple ci-dessus, on peut constater que les répertoires sont en fait presque de la même taille (le dernier est plus gros suite à des changements importants)&lt;/p&gt;

&lt;pre&gt;&lt;code&gt;tifauve@einstein:~/backup/obiran/turing$ du -sh *
43G     20061016_170631
43G     20061016_204921
43G     20061017_205021
43G     20061018_200001
44G     20061018_202601
&lt;/code&gt;&lt;/pre&gt;

&lt;p&gt;Si le répertoire &amp;lsquo;master&amp;rsquo; 20061016_170631 est supprimé, les autres répertoires conservent tout de même toutes les données.&lt;/p&gt;

&lt;p&gt;&lt;em&gt;Et Rsync dans tout ça ?&lt;/em&gt;&lt;/p&gt;

&lt;p&gt;Rsync permet de synchroniser les fichiers: c&amp;rsquo;est cette commande qui va gérer les différences entre deux fichiers d&amp;rsquo;un jour à l&amp;rsquo;autre. Si aucune différence (modification, ajout ou suppression) n&amp;rsquo;est trouvée alors le fichier n&amp;rsquo;est pas copié à travers le réseau&lt;/p&gt;

&lt;p&gt;&lt;strong&gt;Conclusion&lt;/strong&gt;&lt;/p&gt;

&lt;p&gt;L&amp;rsquo;association de ces deux commandes permet de faire des sauvegardes rapidement et en occupant un minimum de place.&lt;/p&gt;

&lt;p&gt;Ce projet est entièrement géré via Google Code: &lt;a href=&#34;http://code.google.com/p/obiran/&#34;&gt;http://code.google.com/p/obiran/&lt;/a&gt;&lt;/p&gt;
</description>
    </item>
    
  </channel>
</rss>